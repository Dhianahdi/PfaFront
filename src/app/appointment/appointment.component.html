<div class="main-wrapper">

  <div class="breadcrumb-bar-two">
    <div class="container">
      <div class="row align-items-center inner-banner">
        <div class="col-md-12 col-12 text-center">
          <h2 class="breadcrumb-title">Appointments</h2>
          <nav aria-label="breadcrumb" class="page-breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="index.html">Home</a></li>
              <li class="breadcrumb-item" aria-current="page">Appointments</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="container">
      <div class="row">
        <div class="col-md-5 col-lg-4 col-xl-3 theiaStickySidebar">
            <div class="profile-sidebar">
            <div class="widget-profile pro-widget-content">
              <div class="profile-info-widget">
                <a href="#" class="booking-doc-img">
                  <img src="http://127.0.0.1:5000/img/{{ user.image }}"
                    alt="User Image">
                </a>
                <div class="profile-det-info">
                  <h3>Dr. {{ user.nom }} {{ user.prenom }}</h3>
                  <div class="patient-details">

                  </div>
                </div>
              </div>
            </div>
            <div class="dashboard-widget">
              <nav class="dashboard-menu">
                <ul>
                                    <li>
                                      <a href="doctor-dashboard.html">
                                        <i class="fas fa-columns"></i>
                                        <span>Dashboard</span>
                                      </a>
                                    </li>
                                    <li class="active">
                                      <a (click)="navigateAppointements()">
                                        <i class="fas fa-calendar-check"></i>
                                        <span>Appointments</span>
                                      </a>
                                    </li>
                                    <li>
                                      <a (click)="navigatepatientslist()">
                                        <i class="fas fa-user-injured"></i>
                                        <span>My Patients</span>
                                      </a>
                                    </li>
                                    <!-- <li>
                                                        <a href="schedule-timings.html">
                                                          <i class="fas fa-hourglass-start"></i>
                                                          <span>Schedule Timings</span>
                                                        </a>
                                                      </li> -->
                                    <li>
                                      <a (click)="navigateDocAvailable()">
                                        <i class="fas fa-clock"></i>
                                        <span>Available Timings</span>
                                      </a>
                                    </li>
                                    <!-- <li>
                                                        <a href="invoices.html">
                                                          <i class="fas fa-file-invoice"></i>
                                                          <span>Invoices</span>
                                                        </a>
                                                      </li>
                                                      <li>
                                                        <a href="accounts.html">
                                                          <i class="fas fa-file-invoice-dollar"></i>
                                                          <span>Accounts</span>
                                                        </a>
                                                      </li>
                                                      <li>
                                                        <a href="reviews.html">
                                                          <i class="fas fa-star"></i>
                                                          <span>Reviews</span>
                                                        </a>
                                                      </li> -->
                                    <li>
                                      <a (click)="navigatequestions()">
                                        <i class="fas fa-comments"></i>
                                        <span>Questions</span>
                                        <small class="unread-msg"></small>
                                      </a>
                                    </li>
                                    <li>
                                      <a (click)="navigateprofile()">
                                        <i class="fas fa-user-cog"></i>
                                        <span>Profile Settings</span>
                                      </a>
                                    </li>
                                    <!-- <li>
                                                        <a href="social-media.html">
                                                          <i class="fas fa-share-alt"></i>
                                                          <span>Social Media</span>
                                                        </a>
                                                      </li>
                                                      <li>
                                                        <a href="doctor-change-password.html">
                                                          <i class="fas fa-lock"></i>
                                                          <span>Change Password</span>
                                                        </a>
                                                      </li> -->
                                    <li>
                                      <a (click)="logout()">
                                        <i class="fas fa-sign-out-alt"></i>
                                        <span>Logout</span>
                                      </a>
                                    </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
        <div class="col-md-7 col-lg-8 col-xl-9">
          <div class="appointments">
              <div class="schedule-header">
              <label class="mb-2">Date </label>
              <input class="form-select form-control" id="appt-time"
                type="date" name="appt-time" value="13:30"
                [(ngModel)]="appointmentDate"    (change)="getAppointmentsfilter()" />
            </div>
             <div class="schedule-header">
              <label class="mb-2">  </label>

            </div>
              <div class="schedule-header">
              <label class="mb-2">Liste  </label>

            </div>
         <div class="appointment-list" *ngFor="let appointment of appointmentList">
              <div class="profile-info-widget">
                <a href="patient-profile.html" class="booking-doc-img">
                  <img src="http://127.0.0.1:5000/img/{{  appointment.appointment.user.image }}">
                </a>
                <div class="profile-det-info">
      <h3><a href="patient-profile.html">{{ appointment.appointment.user.nom }} {{ appointment.appointment.user.prenom }}</a></h3>
                  <div class="patient-details">
        <h5><i class="far fa-clock"></i> {{ appointment.date }}, {{ appointment.time }}</h5>

                    <h5>
                      <i class="fas fa-envelope"></i>
                             <a  class="__cf_email__" >{{ appointment.appointment.user.email }}</a>

                    </h5>
                    <h5 class="mb-0">
          <i class="fas fa-phone"></i> {{ appointment.appointment.user.telephone }}
                    </h5>
                  </div>
                </div>
              </div>
              <div class="appointment-action">
                <a
                  href="#"
                  class="btn btn-sm bg-info-light"
                  data-bs-toggle="modal"
                  data-bs-target="#appt_details"
                >
                  <i class="far fa-eye"></i> View
                </a>

              </div>
            </div>


          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade custom-modal" id="appt_details">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Appointment Details</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <ul class="info-details">
          <li>
            <div class="details-header">
              <div class="row">
                <div class="col-md-6">
                  <span class="title">#APT0001</span>
                  <span class="text">21 Oct 2023 10:00 AM</span>
                </div>
                <div class="col-md-6">
                  <div class="text-end">
                    <button
                      type="button"
                      class="btn bg-success-light btn-sm"
                      id="topup_status"
                    >
                      Completed
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li>
            <span class="title">Status:</span>
            <span class="text">Completed</span>
          </li>
          <li>
            <span class="title">Confirm Date:</span>
            <span class="text">29 Jun 2023</span>
          </li>
          <li>
            <span class="title">Paid Amount</span>
            <span class="text">$450</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
